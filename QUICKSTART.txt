STORYAUDIT - QUICK START GUIDE
==============================

WHAT IS STORYAUDIT?
StoryAudit is an AI-powered system that checks if character backstories are
consistent with the novels/narratives they appear in. It uses Google's Gemini
API to extract claims from backstories and verify them against narrative text.

REQUIREMENT: Google API Key
============================
1. Go to https://ai.google.dev/
2. Click "Get API Key"
3. Create a new project if needed
4. Generate your API key (free tier, no credit card required)
5. Copy the key


TWO WAYS TO RUN
===============

METHOD 1: INTERACTIVE MENU (Recommended for beginners)
-----------
$ python menu.py

This launches an interactive menu where you can:
- View available stories
- Analyze stories (one or all)
- Add new stories manually
- View results
- Set API key


METHOD 2: COMMAND LINE (For automation/scripting)
-----------

Single story:
$ $env:GOOGLE_API_KEY="your-api-key-here"
$ python run.py --story-id 1

All stories:
$ python run.py --all

With verbose output:
$ python run.py --story-id 1 --verbose

Get help:
$ python run.py --help


HOW TO ADD A NEW STORY
======================

Option A: Using Interactive Menu
  1. Run: python menu.py
  2. Select: 2 (Add New Story)
  3. Enter story ID (e.g., 5)
  4. Paste the narrative/novel text
  5. Type "END" and press Enter
  6. Paste the backstory text
  7. Type "END" and press Enter

Option B: Manual (Direct to files)
  1. Create file: data/narratives/story_5.txt
  2. Paste novel/narrative text
  3. Create file: data/backstories/backstory_5.txt
  4. Paste character backstory text


EXAMPLE OUTPUT
==============

Running: python run.py --story-id 1

Output will be saved to results.csv:
  Story ID,Prediction,Rationale
  1,1,"No contradictions found (5 claims verified successfully)"

Predictions:
  1 = CONSISTENT (backstory matches narrative)
  0 = INCONSISTENT (contradictions found)


AVAILABLE STORIES
=================

Story 1: Marcus the Merchant
  - Narrative: "The Merchant's Journey" (merchant trader)
  - Backstory: Detailed background about Marcus's life
  - Status: Ready to test

Story 2: Eleanor the Scholar
  - Narrative: "The Scholar's Quest" (librarian and manuscript hunter)
  - Backstory: Eleanor's personal history
  - Status: Ready to test

Story 3: Captain Whitmore (Dark History)
  - Narrative: "The Captain's Command" (naval officer)
  - Backstory: Secret history of a pirate/criminal
  - Status: Ready to test (expects inconsistencies)

Story 4: Dr. Elizabeth Hartwell (Consistent)
  - Narrative: "The Naturalist's Journal" (Amazon researcher)
  - Backstory: Scientific biography
  - Status: Ready to test (expects consistency)


TROUBLESHOOTING
===============

"API Key not set"
  -> Set it: $env:GOOGLE_API_KEY="your-key"
  -> Or use menu: python menu.py -> option 4

"Story not found"
  -> Check data/narratives/ and data/backstories/
  -> Files must be named story_N.txt and backstory_N.txt

"No models available"
  -> API key is invalid
  -> Get a new one from https://ai.google.dev/

"ModuleNotFoundError"
  -> Install requirements: pip install -r requirements.txt

"AttributeError: pathway"
  -> Install real pathway: pip install --upgrade pathway


GETTING HELP
============

View configuration: python -c "from config import Config; print(Config.__dict__)"

Check system: python verify_setup.py

See available options: python run.py --help


ADVANCED USAGE
==============

Process stories 1-3:
  $ python run.py --story-ids 1 2 3

Process with custom output file:
  $ python run.py --story-id 1 --output my_results.csv

Use Pathway integration:
  $ python run.py --story-id 1 --pathway


UNDERSTANDING RESULTS
=====================

Each result has:
1. Story ID - which story was analyzed
2. Prediction - 1 (consistent) or 0 (inconsistent)
3. Rationale - explanation of the decision

The system checks if:
- Character events match between backstory and narrative
- Character traits are consistent
- Skills and knowledge align
- Relationships are portrayed correctly
- No contradictions in timeline or facts

A prediction of 1 means no high-confidence contradictions were found.
A prediction of 0 means contradictions were detected.


FOR MORE INFORMATION
====================

Technical details: Read src/ module docstrings
API information: https://ai.google.dev/
Project structure: Check folder layout in data/ and src/

Good luck with StoryAudit!
